jQuery(document).ready(function(t){t(".clean-trigger").on("click",function(a){a.preventDefault();var e=t(this),n={type:e.data("type"),nonce:t("#wppus_plugin_options_handler_nonce").val(),action:"wppus_force_clean"};e.attr("disabled","disabled"),t.ajax({url:Wppus.ajax_url,data:n,type:"POST",success:function(a){if(!a.success){var n="";t.each(a.data,function(a,e){n+=e.message+"\n"}),window.alert(n)}e.removeAttr("disabled")},error:function(a,e){Wppus.debug&&window.console.log(e)}})}),t(".manual-download-slug-trigger").on("click",function(a){a.preventDefault();var e=t(this),n={type:t("#wppus_manual_download_type").val(),slug:t("#wppus_manual_download_slug").val(),nonce:t("#wppus_plugin_options_handler_nonce").val(),action:"wppus_prime_package_from_remote"};e.attr("disabled","disabled"),t.ajax({url:Wppus.ajax_url,data:n,type:"POST",success:function(a){if(a.success)window.location.reload(!0);else{var n="";t.each(a.data,function(a,e){n+=e.message+"\n"}),e.removeAttr("disabled"),window.alert(n)}},error:function(a,e){Wppus.debug&&window.console.log(e)}})}),t(".manual-package-upload-trigger").on("click",function(a){a.preventDefault();var e=t(this),n=new FormData,o=!0,i=t("#wppus_manual_package_upload")[0].files[0];e.attr("disabled","disabled"),void 0!==i&&void 0!==i.type&&void 0!==i.size&&void 0!==i.name?("application/zip"!==i.type&&(window.alert(Wppus.invalidFileFormat),e.removeAttr("disabled"),o=!1),0===i.size&&(window.alert(Wppus.invalidFileSize),e.removeAttr("disabled"),o=!1),/^([a-zA-Z0-9\-\_]*)\.zip$/gm.test(i.name)||(window.alert(Wppus.invalidFileName),e.removeAttr("disabled"),o=!1)):(window.alert(Wppus.invalidFile),e.removeAttr("disabled"),o=!1),o&&(n.append("action","wppus_manual_package_upload"),n.append("package",i),n.append("nonce",t("#wppus_plugin_options_handler_nonce").val()),t.ajax({url:Wppus.ajax_url,data:n,type:"POST",cache:!1,contentType:!1,processData:!1,success:function(a){if(a.success)window.location.reload(!0);else{var n="";t.each(a.data,function(a,e){n+=e.message+"\n"}),e.removeAttr("disabled"),window.alert(n)}},error:function(a,e){Wppus.debug&&window.console.log(e)}}))})});